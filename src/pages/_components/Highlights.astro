---
import { Button } from "@/lib/components/ui/button";
import { ExternalLink } from "lucide-astro";

const highlights = [
  {
    id: "tournament",
    date: "2025",
    title: "Tournament Administration & Management Software",
    description:
      "App suite for tournament scheduling, communication, and mobilization.",
    tech: ["PWA", "React.js", "Nest.js", "Next.js", "TailwindCSS"],
    tags: ["Full Stack"],
    demoUrl: "https://renna.netlify.app",
    detailsUrl: "https://github.com/everurstruly/tournament-management-system",
  },
  {
    id: "travel",
    date: "2025",
    title: "Travel Experience Booking Platform",
    description:
      "An online marketplace for booking curated tours and activities worldwide, for relaxation and adventure.",
    tech: ["Next.js", "Nest.js", "ShadcnUI", "PostgreSQL"],
    tags: ["Full Stack"],
    // demoUrl: "https://github.com/everurstruly",
    detailsUrl:
      "https://github.com/everurstruly/travel-experiences-marketplace",
  },
  {
    id: "fintech",
    date: "2025",
    title: "Offramping Fintech Platform",
    description:
      "A fintech platform enabling converting digital assets to fiat currency.",
    tech: ["Next.js", "API Development", "PWA", "BaaS"],
    tags: ["Full Stack"],
    demoUrl: "https://rmlpay.vercel.app",
    detailsUrl: "https://github.com/everurstruly",
  },
  {
    id: "static",
    date: "2025",
    title: "Word Guessing Puzzle Game",
    description:
      "A clone of a once-famous engaging game where players try to guess a hidden five-letter word within six attempts.",
    tech: ["Javascript", "DOM Manipulation", "Responsive CSS", "HTML5"],
    tags: ["Front End"],
    demoUrl: "https://everurstruly.github.io/The-New-York-Times-Wordle-Clone/",
    detailsUrl: "github.com/everurstruly/The-New-York-Times-Wordle-Clone",
  },
  // {
  //   id: "static",
  //   date: "2025",
  //   title: "Brochure/Marketing Website",
  //   description:
  //     "A static website showcasing the features and benefits of a business/person product or service.",
  //   tech: ["Astro", "React", "Nest.js"],
  //   tags: ["Front End"],
  //   demoUrl: "https://agencylikeportfolio.netlify.app/",
  //   detailsUrl: "github.com/everurstruly",
  // },
];

const tints = ["red", "green", "yellow", "blue"];
---

<section id="highlights" class="py-20">
  <header
    class="mb-8 lg:mb-10 flex flex-wrap items-center gap-y-2 gap-x-4 justify-between"
  >
    <h2 class="text-4xl lg:text-5xl font-semibold uppercase text-zinc-800">
      Featured Projects
    </h2>

    <!-- <button
      class="text-nowrap self-end ms-auto text-sm underline text-blue-600 py-1 px-2"
    >
      View Archive
    </button> -->

    <Button
      variant="link"
      className="px-0 flex mt-4 text-sm sm:ms-auto text-blue-600"
    >
      View Archive
      <ExternalLink />
    </Button>
  </header>

  <div class="flex flex-wrap gap-y-20 gap-x-8 lg:gap-x-12 lg:gap-y-20">
    {
      highlights.map((project, idx) => {
        return (
          <article class="w-full lg:w-1/3 grow">
            <div class="tinted-image w-full h-80 bg-zinc-100 overflow-hidden">
              <img
                src={`/headshot-professional.jpg`}
                alt={`${project.title}`}
                class="w-full h-full object-cover"
              />
              <div
                class="tint-overlay"
                aria-hidden="true"
                style={`--tint: ${tints[idx % tints.length]}`}
              />
            </div>

            <div class="flex flex-col p-1">
              <div class="flex items-start gap-x-6 justify-between py-2">
                <h4 class="text-base sm:text-lg font-semibold !leading-tight">
                  {project.title}
                </h4>
                <span class="text-sm">{project.date}</span>
              </div>

              <p class="text-sm sm:text-base text-zinc-600">
                {project.description} <span class="font-semibold">Build:</span>{" "}
                {project.tech.map((tag, index, arr) => {
                  const prefix = index === 0 ? "" : ", ";
                  const sufix = index === arr.length - 1 ? "." : "";

                  return (
                    <>
                      {prefix}
                      {tag}
                      {sufix}
                    </>
                  );
                })}
              </p>

              <div class="flex items-center flex-wrap gap-x-4 gap-y-2 pt-2">
                {project.demoUrl && (
                  <a
                    href={project.demoUrl}
                    class="text-sm text-blue-600 hover:underline"
                  >
                    Live Demo
                  </a>
                )}{" "}
                {project.detailsUrl && project.demoUrl && (
                  <span class="text-xs">//</span>
                )}
                {project.detailsUrl && (
                  <a
                    href={project.detailsUrl}
                    class="text-sm text-blue-600 hover:underline"
                  >
                    More Details
                  </a>
                )}
              </div>
            </div>
          </article>
        );
      })
    }
  </div>
</section>

<style>
  .tinted-image {
    position: relative;
  }

  .tinted-image .tint-overlay {
    position: absolute;
    inset: 0;
    pointer-events: none;
    opacity: 0.32; /* base tint strength */
    background: var(--tint, red);
    mix-blend-mode: multiply; /* tinting blend for solid colors */
    transition:
      opacity 200ms ease,
      transform 300ms ease;
  }

  .tinted-image:hover .tint-overlay {
    opacity: 0.6;
    transform: scale(1.02);
  }
</style>
